<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Recetario - Comunidad Piura</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:"Inter",sans-serif;
      background:url("Imagen1.png") center/cover no-repeat fixed;
      color:#fff;
      min-height:100vh;
      overflow-x:hidden;
    }

    header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:15px 20px;
      background:rgba(0,0,0,0.6);
      border-bottom:1px solid rgba(255,255,255,0.1);
      backdrop-filter:blur(6px);
      position:sticky;
      top:0;
      z-index:60;
    }
    header h1{
      font-size:20px;
      letter-spacing:1px;
    }

    /* Men칰 hamburguesa */
    .menu-btn{
      width:30px;height:22px;
      cursor:pointer;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
    }
    .menu-btn span{
      height:3px;width:100%;
      background:#fff;
      border-radius:4px;
      transition:0.3s;
    }

    nav{
      position:fixed;
      top:0;left:-260px;
      width:240px;height:100%;
      background:rgba(0,0,0,0.92);
      backdrop-filter:blur(8px);
      transition:0.3s;
      padding-top:70px;
      z-index:50;
    }
    nav.active{left:0;}
    nav ul{list-style:none;padding:0;}
    nav li{
      padding:14px 22px;
      border-bottom:1px solid rgba(255,255,255,0.06);
      cursor:pointer;
      transition:0.3s;
    }
    nav li:hover{background:rgba(255,255,255,0.1);}

    .content{
      padding:20px;
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
      gap:20px;
      position:relative;
      z-index:1;
    }

    .card{
      background:rgba(0,0,0,0.65);
      border:1px solid rgba(255,255,255,0.08);
      border-radius:12px;
      overflow:hidden;
      transition:0.3s;
      cursor:pointer;
      backdrop-filter:blur(4px);
    }
    .card:hover{
      transform:translateY(-4px);
      background:rgba(255,255,255,0.08);
    }
    .card img{
      width:100%;height:160px;object-fit:cover;
    }
    .card h3{padding:10px;font-size:1.1rem;}
    .card p{padding:0 10px 10px;color:#ccc;font-size:0.9rem;}

    /* Modal (receta completa) */
    .modal{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.85);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:100;
      backdrop-filter:blur(6px);
    }
    .modal-content{
      background:rgba(0,0,0,0.8);
      border:1px solid rgba(255,255,255,0.1);
      border-radius:12px;
      padding:25px;
      width:90%;
      max-width:500px;
      color:#fff;
      overflow-y:auto;
      max-height:80vh;
      box-shadow:0 0 25px rgba(0,0,0,0.6);
    }
    .modal-content h2{
      margin-bottom:10px;
      font-size:1.4rem;
      border-bottom:1px solid rgba(255,255,255,0.1);
      padding-bottom:6px;
    }
    .modal-content ul{
      margin-top:10px;
      padding-left:20px;
    }
    .modal-content li{
      margin-bottom:6px;
      line-height:1.4;
    }
    .close-btn{
      display:block;
      margin-top:15px;
      text-align:center;
      padding:10px 15px;
      background:#fff;
      color:#000;
      border-radius:8px;
      cursor:pointer;
      font-weight:bold;
    }
  </style>
</head>
<body>

  <header>
    <h1>游꼾 Recetario Piura</h1>
    <div class="menu-btn" id="menuBtn">
      <span></span><span></span><span></span>
    </div>
  </header>

  <nav id="sideMenu">
    <ul>
      <li onclick="showCategory('comidas')">游꼢 Comidas</li>
      <li onclick="showCategory('postres')">游꼻 Postres</li>
      <li onclick="showCategory('bebidas')">游볷 Bebidas</li>
      <li onclick="logout()">游뛁 Cerrar sesi칩n</li>
    </ul>
  </nav>

  <main class="content" id="recipeContainer"></main>

  <!-- Modal para mostrar receta completa -->
  <div class="modal" id="recipeModal">
    <div class="modal-content" id="modalContent"></div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyD33P7MvrIGbNo1lRSbZBXb4hZoQ_dkjVg",
      authDomain: "comunidadpiura-fed53.firebaseapp.com",
      projectId: "comunidadpiura-fed53",
    };
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    const menuBtn = document.getElementById('menuBtn');
    const sideMenu = document.getElementById('sideMenu');
    const container = document.getElementById('recipeContainer');
    const modal = document.getElementById('recipeModal');
    const modalContent = document.getElementById('modalContent');

    menuBtn.onclick = ()=> sideMenu.classList.toggle('active');

    // Recetas con pasos
    const data = {
      comidas: [
        {
          img:"https://share.google/images/DU2VxijIm5CGA3an8",
          titulo:"Hamburguesa artesanal",
          desc:"Pan suave, carne jugosa y salsa especial.",
          pasos:[
            "Mezcla carne molida con sal, pimienta y ajo.",
            "Forma hamburguesas y coc칤nalas en una sart칠n o parrilla.",
            "Tuesta el pan ligeramente.",
            "Arma con lechuga, tomate, queso y tu salsa favorita."
          ]
        },
        {
          img:"https://cdn.pixabay.com/photo/2016/03/05/19/02/salad-1238257_1280.jpg",
          titulo:"Ensalada fresca",
          desc:"Vegetales con aderezo de lim칩n y aceite de oliva.",
          pasos:[
            "Lava y corta lechuga, tomate, pepino y cebolla.",
            "Mezcla en un bowl grande.",
            "Agrega jugo de lim칩n, aceite de oliva y sal.",
            "Sirve fr칤a."
          ]
        }
      ],
      postres: [
        {
          img:"https://cdn.pixabay.com/photo/2014/12/11/02/57/cake-563796_1280.jpg",
          titulo:"Pastel de chocolate",
          desc:"Denso, suave y cubierto de ganache.",
          pasos:[
            "Mezcla harina, cacao, az칰car, huevos y mantequilla.",
            "Hornea a 180춿C por 35 minutos.",
            "Prepara ganache con chocolate derretido y crema.",
            "Cubre el pastel y deja enfriar."
          ]
        },
        {
          img:"https://cdn.pixabay.com/photo/2017/05/07/08/56/dessert-2295603_1280.jpg",
          titulo:"Helado artesanal",
          desc:"Sabores naturales con frutas frescas.",
          pasos:[
            "Lic칰a frutas, leche y az칰car.",
            "Coloca en el congelador por 2 horas.",
            "Remueve cada 30 minutos para evitar cristales.",
            "Sirve con toppings al gusto."
          ]
        }
      ],
      bebidas: [
        {
          img:"https://cdn.pixabay.com/photo/2016/03/05/19/02/cocktail-1238257_1280.jpg",
          titulo:"Jugo natural",
          desc:"Refrescante combinaci칩n de frutas tropicales.",
          pasos:[
            "Lic칰a pi침a, papaya y naranja con agua fr칤a.",
            "Cuela y agrega hielo al gusto.",
            "Sirve inmediatamente."
          ]
        },
        {
          img:"https://cdn.pixabay.com/photo/2017/06/30/02/27/smoothie-2454558_1280.jpg",
          titulo:"Smoothie energizante",
          desc:"Banano, avena y miel para comenzar el d칤a.",
          pasos:[
            "Lic칰a banano, avena, leche y miel.",
            "Sirve fr칤o en vaso alto.",
            "Espolvorea canela si deseas."
          ]
        }
      ]
    };

    window.showCategory = function(cat){
      container.innerHTML = "";
      data[cat].forEach(item=>{
        container.innerHTML += `
          <div class="card" onclick='showRecipe("${cat}", "${item.titulo}")'>
            <img src="${item.img}">
            <h3>${item.titulo}</h3>
            <p>${item.desc}</p>
          </div>`;
      });
      sideMenu.classList.remove('active');
    };

    window.showRecipe = function(cat, title){
      const recipe = data[cat].find(r => r.titulo === title);
      modalContent.innerHTML = `
        <h2>${recipe.titulo}</h2>
        <p>${recipe.desc}</p>
        <h4 style="margin-top:10px;">Pasos:</h4>
        <ul>${recipe.pasos.map(p => `<li>${p}</li>`).join("")}</ul>
        <div class="close-btn" onclick="closeModal()">Cerrar</div>
      `;
      modal.style.display = "flex";
    };

    window.closeModal = function(){
      modal.style.display = "none";
    };

    window.logout = function(){
      signOut(auth).then(()=>{
        window.location.href = "index.html";
      });
    };

    // Mostrar por defecto la categor칤a comidas
    showCategory('comidas');
  </script>
</body>
</html>

